<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="//dev01.guanaihui.cn/guanaihui/js/lib.min.js"></script>        
        <title>下拉加载插件的使用实例</title>
        <style>
            * {
                margin : 0 ;
                padding : 0 ;
            }            
            li {
                border-bottom : 1px dotted #ddd ;
                font : normal normal normal 20px/50px microsoft yahei, simsun ; 
                height : 50px ;
                list-style : none ;
                text-align : center ;
            }
            .assistant {
                background : #fafafa ;
                font : normal normal normal 20px/150px microsoft yahei, simsun ; 
                height : 150px ;
                text-align : center ;
            }
            .data-status {
                background : #f0ffc1 ;
                height : 50px ;
                font : normal normal normal 16px/50px microsoft yahei, simsun ; 
                text-align : center ;
            }
            p {
                background : #fc0 ;
                color : #c00 ;
                font : normal normal normal 12px/30px microsoft yahei, simsun ; 
                padding : 10px ;
            }
        </style>
    </head>
    <body>
        <p>使用这个插件需要注意的地方：1 . 配置参数里面有一个requestLoadedKey 这个key，用来申明请求的入参中记录已经有了多少条数据的参数名称，这个参数后端接收后来确定从第几条开始取。2 . 还有一个参数countKey是用来申明接口返参中标识中共多少条记录的key，用来让前端识别请求完成后是不是到了最后一条。</p>
        <div class="assistant">页面头部</div>
        <ul>
            <li>1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
            <li>5</li>
            <li>6</li>
            <li>7</li>
            <li>8</li>
            <li>9</li>
            <li>10</li>
        </ul>        
        <div class="assistant">页面底部</div>
        <script src="jquery.pullload.js"></script>
        <script>
            $("ul").pullload({
                apiUrl : "data.json?category=3&type=2" ,
                threshold : 50 ,
                callback : function(data) {                    
                   $.each(data.result, function(){
                       $("ul").append("<li data-id=\"" + this.id + "\">" + this.label + "</li>") ;
                   }) ;
                }
            }) ;
        </script>
        
    </body>
</html>