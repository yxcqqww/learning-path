/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
 1. 插件名称：scrollup
 2. 插件描述：滚动到页面顶端插件
 3. 版本：1.0
 4.  对其他插件的依赖：无
 5. 作者：zhaohuagang@guanaihui.com
 6. 未尽事宜：
 -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
(function($) {
    $.fn.scrollup = function(options) {
        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
        scrollup加上对应的配置属性
         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
        var opts = $.extend({}, $.fn.scrollup.defaults, options);
        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
         执行事件添加后返回
         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
        return this.each(function() {
            var self = this ;          
            /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
            window的scroll|resize以及document.ready的时候执行监听
            -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
            $(window).on("scroll.scrollup resize.scrollup", function() {                
                $.fn.scrollup.toggle(opts, self) ;
            }) ;
            $(document).ready(function(){
                $.fn.scrollup.toggle(opts, self) ;
            }) ;
            /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
            鼠标点击时滚动到顶端
            -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
            $(this).click(function() {
                $('html,body').animate({
                    scrollTop: '0px'
                }, opts.duration) ;
            });

        });
    } ;
    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
     scrollup默认配置
     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
    $.fn.scrollup.toggle = function(opts, handle) {
        if ($(window).scrollTop() >= opts.topDistance) {
            if(opts.effect === "slide") $(handle).slideDown(opts.effectDuration) ;
            else if(opts.effect === "fade") $(handle).fadeIn(opts.effectDuration) ;
            else $(handle).show(opts.effectDuration) ;
        }
        else {
            if(opts.effect === "slide") $(handle).slideUp(opts.effectDuration) ;
            else if(opts.effect === "fade") $(handle).fadeOut(opts.effectDuration) ;
            else $(handle).hide(opts.effectDuration) ;
        }
    } ;
    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
     scrollup默认配置
     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
    $.fn.scrollup.defaults = {       
        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
        滚动条距离顶部多少距离时出现按钮，单位为 px，默认为 300
         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
        topDistance : 300 ,
        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
        滚动到顶部的时间，单位为 ms，默认为 300
         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
        duration : 300 ,
        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
        按钮出现、隐藏的方式及速度，可以是：show | fade | slide ，默认为fade
         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
        effect : "fade",
        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
        按钮出现的时间，单位为 ms，默认为 300
         -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
        effectDuration : 300        
    } ;
})(jQuery) ;