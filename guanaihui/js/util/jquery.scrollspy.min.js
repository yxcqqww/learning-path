!function(t){t.fn.scrollspy=function(r){var e=t.extend({},t.fn.scrollspy.defaults,r);return this.each(function(){var r=this,l=t.fn.scrollspy.filter(this,e);t(window).bind(e.events,function(){t.fn.scrollspy.iterativeDetect(r,l,e)}),t(l).each(function(){t(this).click(function(){t.fn.scrollspy.scrollTo(t(t(this).attr(e.targetAttr)),e)})})})},t.fn.scrollspy.iterativeDetect=function(r,e,l){t(e).each(function(){t.fn.scrollspy.detect(r,this,l)})},t.fn.scrollspy.filter=function(r,e){var l=new Array;return t(r).find(e.handleSelector).each(function(r,n){var a=t(n).attr(e.targetAttr);if("undefined"!==a&&""!==t.trim(a)){l.push(n);var o=t(a).position();t(a).attr("data-top",o.top).attr("data-left",o.left)}}),l},t.fn.scrollspy.scrollTo=function(r,e){var l,n=t(r).position();l="vertical"===e.direction?{scrollTop:n.top+"px"}:{scrollLeft:n.left+"px"},t("html,body").animate(l,e.scrollDuration)},t.fn.scrollspy.detect=function(r,e,l){var n=parseInt(t(t(e).attr(l.targetAttr)).attr("data-top"),10),a=parseInt(t(t(e).attr(l.targetAttr)).attr("data-left"),10),o=t(t(e).attr(l.targetAttr)).height(),s=t(t(e).attr(l.targetAttr)).width(),i=t(window).scrollTop(),c=t(window).scrollLeft();("vertical"===l.direction&&i>=n&&n+o>=i||"horizontal"===l.direction&&c>=a&&a+s>=c)&&(t(r).find(l.handleSelector).removeClass(l.handleActiveClass),t(e).addClass(l.handleActiveClass))},t.fn.scrollspy.defaults={direction:"vertical",handleActiveClass:"on",handleSelector:"li",targetAttr:"data-target",scrollDuration:500,events:"load.scrollspy scroll.scrollspy resize.scrollspy"}}(jQuery);