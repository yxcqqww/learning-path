!function(a){a.fn.areaSelect=function(t){var n=a.extend({},a.fn.areaSelect.defaults,t),e=n.crossDomain?"jsonp":"json",o=n.crossDomain?"GET":n.requestType,i=n.jsonpCallback;return n.url?this.each(function(){var t=a(this);return 0===t.find("select").length?void console.error("no select html element finded"):void("string"==typeof n.url?a.ajax({url:n.url,type:o,dataType:e,data:o,jsonpCallback:i,success:function(e){a.fn.areaSelect.init(t,n,e.result)},error:function(){console.error("ajax error")}}):a.fn.areaSelect.init(t,n,a.parseJSON(n.url)))}):void console.error("url is null")},a.fn.areaSelect.init=function(t,n,e){var o=t.find("select.prov"),i=t.find("select.city"),l=t.find("select.dist"),r=n.required?"":"<option value=''>请选择</option>";if(o.append(a(r)),i.append(a(r)),l.append(a(r)),a.each(e.areaList,function(t,n){var e=Object.keys(n),i=a("<option></option>").data("options",n[e[1]]).attr("data-name",n[e[0]]).val(e[0]).html(n[e[0]]);i.appendTo(o)}),null!=n.prov){var c=o.find("option[data-name='"+n.prov+"']");if(null!=c&&(o.val(c.val()),a.fn.areaSelect.cityStart(o,i,l,n)),null!=n.city){var s=i.find("option[data-name='"+n.city+"']");if(null!=s&&(i.val(s.val()),a.fn.areaSelect.distStart(i,l,n)),null!=n.dist){var d=l.find("option[data-name='"+n.dist+"']");null!=d&&l.val(d.val())}}}o.on("change",function(){a.fn.areaSelect.cityStart(o,i,l,n)}),i.on("change",function(){a.fn.areaSelect.distStart(i,l,n)})},a.fn.areaSelect.cityStart=function(t,n,e,o){var i=o.required?"":"<option value=''>请选择</option>",l=t.find("option[value='"+t.val()+"']").data("options");return n.empty().html(i),e.empty().html(i),void 0==l||""===l?void("none"==o.nodata&&(n.css("display","none"),e.css("display","none"))):(a.each(l,function(t,e){var o=Object.keys(e),i=a("<option></option>").data("options",e[o[1]]).attr("data-name",e[o[0]]).val(o[0]).html(e[o[0]]);i.appendTo(n)}),n.css({display:""}),void a.fn.areaSelect.distStart(n,e,o))},a.fn.areaSelect.distStart=function(t,n,e){var o=e.required?"":"<option value=''>请选择</option>",i=t.find("option[value='"+t.val()+"']").data("options");return n.empty().html(o),void 0==i||""===i?void("none"==e.nodata&&n.css("display","none")):(a.each(i,function(t,e){var o=Object.keys(e),i=a("<option></option>").attr("data-name",e[o[0]]).val(o[0]).html(e[o[0]]);i.appendTo(n)}),void n.css({display:""}))},a.fn.areaSelect.defaults={url:null,prov:null,city:null,dist:null,nodata:null,required:!1,crossDomain:!1,requestType:"GET",jsonpCallback:"callBack"}}(jQuery);