!function(e){e.fn.slide=function(t){return e.fn.slide.defaults={effect:"fade",autoPlay:!1,delayTime:500,interTime:2500,defaultIndex:0,titCell:".handle li",mainCell:".content",trigger:"mouseover",scroll:1,vis:1,titOnClassName:"on",autoPage:!1,prevCell:".prev",nextCell:".next",onStartSlide:null},this.each(function(){var i=e.extend({},e.fn.slide.defaults,t),a=i.defaultIndex,l=e(i.prevCell,e(this)),s=e(i.nextCell,e(this)),n=e(i.titCell,e(this)),r=n.size(),o=e(i.mainCell,e(this)),c=o.children().size(),p=0,d=0,f=0,h=0,v=i.autoPlay,u=null,m=a;if(!(c<i.vis)){if(0==r&&(r=c),i.autoPage){var T=c-i.vis;r=1+parseInt(T%i.scroll!=0?T/i.scroll+1:T/i.scroll),n.html("");for(var g=0;r>g;g++)n.append("<li>"+(g+1)+"</li>");var n=e("li",n)}switch(o.children().each(function(){e(this).width()>f&&(f=e(this).width(),d=e(this).outerWidth(!0)),e(this).height()>h&&(h=e(this).height(),p=e(this).outerHeight(!0))}),i.effect){case"top":o.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; height:'+i.vis*p+'px"></div>').css({position:"relative",padding:"0",margin:"0"}).children().css({height:h});break;case"left":o.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; width:'+i.vis*d+'px"></div>').css({width:c*d,position:"relative",overflow:"hidden",padding:"0",margin:"0"}).children().css({"float":"left",width:f});break;case"leftLoop":case"leftMarquee":o.children().clone().appendTo(o).clone().prependTo(o),o.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; width:'+i.vis*d+'px"></div>').css({width:c*d*3,position:"relative",overflow:"hidden",padding:"0",margin:"0",left:-c*d}).children().css({"float":"left",width:f});break;case"topLoop":case"topMarquee":o.children().clone().appendTo(o).clone().prependTo(o),o.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; height:'+i.vis*p+'px"></div>').css({height:c*p*3,position:"relative",padding:"0",margin:"0",top:-c*p}).children().css({height:h})}var w=function(){switch(i.effect){case"fade":case"top":case"left":a>=r?a=0:0>a&&(a=r-1);break;case"leftMarquee":case"topMarquee":a>=2?a=1:0>a&&(a=0);break;case"leftLoop":case"topLoop":var t=a-m;r>2&&t==-(r-1)&&(t=1),r>2&&t==r-1&&(t=-1);var l=Math.abs(t*i.scroll);a>=r?a=0:0>a&&(a=r-1)}switch(i.effect){case"fade":o.children().stop(!0,!0).eq(a).fadeIn(i.delayTime).siblings().hide();break;case"top":o.stop(!0,!0).animate({top:-a*i.scroll*p},i.delayTime);break;case"left":o.stop(!0,!0).animate({left:-a*i.scroll*d},i.delayTime);break;case"leftLoop":0>t?o.stop(!0,!0).animate({left:-(c-l)*d},i.delayTime,function(){for(var e=0;l>e;e++)o.children().last().prependTo(o);o.css("left",-c*d)}):o.stop(!0,!0).animate({left:-(c+l)*d},i.delayTime,function(){for(var e=0;l>e;e++)o.children().first().appendTo(o);o.css("left",-c*d)});break;case"topLoop":0>t?o.stop(!0,!0).animate({top:-(c-l)*p},i.delayTime,function(){for(var e=0;l>e;e++)o.children().last().prependTo(o);o.css("top",-c*p)}):o.stop(!0,!0).animate({top:-(c+l)*p},i.delayTime,function(){for(var e=0;l>e;e++)o.children().first().appendTo(o);o.css("top",-c*p)});break;case"leftMarquee":var s=o.css("left").replace("px","");0==a?o.animate({left:++s},0,function(){if(o.css("left").replace("px","")>=0){for(var e=0;c>e;e++)o.children().last().prependTo(o);o.css("left",-c*d)}}):o.animate({left:--s},0,function(){if(o.css("left").replace("px","")<=-c*d*2){for(var e=0;c>e;e++)o.children().first().appendTo(o);o.css("left",-c*d)}});break;case"topMarquee":var f=o.css("top").replace("px","");0==a?o.animate({top:++f},0,function(){if(o.css("top").replace("px","")>=0){for(var e=0;c>e;e++)o.children().last().prependTo(o);o.css("top",-c*p)}}):o.animate({top:--f},0,function(){if(o.css("top").replace("px","")<=-c*p*2){for(var e=0;c>e;e++)o.children().first().appendTo(o);o.css("top",-c*p)}})}n.removeClass(i.titOnClassName).eq(a).addClass(i.titOnClassName),m=a,e.fn.slide.defaults.onStartSlide&&e.fn.slide.defaults.onStartSlide()};w(),v&&("leftMarquee"==i.effect||"topMarquee"==i.effect?(a++,u=setInterval(w,i.interTime),o.hover(function(){v&&clearInterval(u)},function(){v&&(clearInterval(u),u=setInterval(w,i.interTime))})):(u=setInterval(function(){a++,w()},i.interTime),e(this).hover(function(){v&&clearInterval(u)},function(){v&&(clearInterval(u),u=setInterval(function(){a++,w()},i.interTime))})));var x;"mouseover"==i.trigger?n.hover(function(){clearTimeout(x),a=n.index(this),x=window.setTimeout(w,200)},function(){x||clearTimeout(x)}):n.click(function(){a=n.index(this),w()}),s.click(function(){a++,w()}),l.click(function(){a--,w()})}})}}(jQuery);