function NavmgtController(){Controller.call(this),this.init()}NavmgtController.prototype.init=function(){var t=this;$("#btnCreateNav").on("click",function(){var t=$("#navModal"),e=t.find(".modal-title");e.text(e.attr("data-text-create"));var a=t.find(".btn-primary");a.text(a.attr("data-text-create")),a.removeClass("j-btn-editor").addClass("j-btn-creator"),$("#navModal").modal(),t.find("[type='text']").val(""),t.find("[type='checkbox']").removeAttr("checked"),t.find("[type='radio']:eq(0)").click()}),$("body").on("click",".j-editor",function(){var t=$(this).parents("tr").eq(0),e=t.find("[data-name]"),a={};e.each(function(t,e){a[$(e).attr("data-name")]=$(e).attr("data")});var n=$("#navModal"),r=n.find(".modal-title");r.text(r.attr("data-text-edit"));var i=n.find(".btn-primary");i.text(i.attr("data-text-edit")),i.removeClass("j-btn-creator").addClass("j-btn-editor"),n.find("[type='text']").val(""),n.find("[type='checkbox']").removeAttr("checked");for(var o in a){var c=n.find("[name="+o+"]");"text"===c.attr("type")?c.val(a[o]):("checkbox"===c.attr("type")||"radio"===c.attr("type"))&&c.filter("[value="+a[o]+"]").click()}n.modal()}),$("body").on("click",".j-btn-creator",function(){var e=$("#modelForm").serialize();e=e+"&idx="+$("#navTable tbody tr").length;var a=$(this).attr("data-interface-create");t.request(a,e,{process:function(e){t.tips(e.message,2,function(){window.location.reload()})},onExceptionInterface:function(e,a){t.tips(a,1)}})}),$("body").on("click",".j-btn-editor",function(){var e=$("#modelForm").serialize(),a=$(this).attr("data-interface-edit");t.request(a,e,{process:function(e){t.tips(e.message,2,function(){window.location.reload()})},onExceptionInterface:function(e,a){t.tips(a,1)}})}),$("body").on("click",".j-btn-up",function(){var t=$(this).parents("tr:eq(0)"),e=t.prev();if(e.length>0){var a=t.clone();t.remove(),a.insertBefore(e)}}),$("body").on("click",".j-btn-down",function(){var t=$(this).parents("tr:eq(0)"),e=t.next();if(e.length>0){var a=t.clone();t.remove(),a.insertAfter(e)}}),$("#btnSaveOrder").on("click",function(){var e=$(this).attr("data-interface"),a={ids:[]};$("#navTable tbody tr").each(function(t,e){a.ids.push($(e).attr("data-id"))}),a.ids=a.ids.join(","),t.request(e,a,{process:function(e){t.tips(e.message,2,function(){window.location.reload()})}})})},$(document).ready(function(){new NavmgtController});