function LoginController(){Controller.call(this),this.initControlValue(),this.instanceSwitch(),this.submitForm(),this.changePasswordType(),this.inputFocus()}LoginController.prototype.instanceSwitch=function(){var a=this;require([this.bootstrapStaticPrefix+"/plugins/bootstrap-switch/dist/js/bootstrap-switch.min.js"],function(){var b=$("#rememberMeSwitcher");b.bootstrapSwitch({onText:"是",offText:"否"});var c=$.cookie(a.cookieKeyConf.system.rememberMe)?!0:!1;b.bootstrapSwitch("state",c),b.on("switchChange.bootstrapSwitch",function(a,b){$("input[name='rememberMe']").val(b)})})},LoginController.prototype.changePasswordType=function(){$("input[name='password']").focus(function(){$(this).attr("type","password")})},LoginController.prototype.inputFocus=function(){$("input")[0].focus()},LoginController.prototype.initControlValue=function(){var a=$.cookie(this.cookieKeyConf.system.rememberMe)?$.cookie(this.cookieKeyConf.system.username):"",b=$.cookie(this.cookieKeyConf.system.rememberMe)?"true":"false";$("input[name='username']").val(a),$("input[name='rememberMe']").val(b)},LoginController.prototype.submitForm=function(){var a=this;require([this.utilStaticPrefix+"/jquery.asyncsubmit.min.js"],function(){$("form").asyncsubmit({apiUrl:a.apiUrl.system.login,utilStaticPrefix:a.utilStaticPrefix,dataType:a.apiDataType,onSavingInterface:function(){a.tips("正在进行处理，请稍等...")},onErrorInterface:function(){a.tips("请求失败，请检查您的接口！",2)},onSuccessInterface:function(b){var c=$("input[name='rememberMe']").val(),d="true"===c?$("input[name='username']").val():null,e="true"===c?"true":null,f={expires:a.cookieExpires,path:"/",domain:a.cookieDomain};$.cookie(a.cookieKeyConf.system.username,d,f),$.cookie(a.cookieKeyConf.system.rememberMe,e,f),window.location.href=a.homeUrl},onExceptionInterface:function(b){a.tips('<span class="text-danger">'+b+"</span>",5)}})})},$(document).ready(function(){new LoginController});