function BranchesController(){this.quickPanel=$(".data-panel .quick-panel"),Controller.call(this),this.instanceMethodizeTable(),this.bind(),this.backCompanyList()}BranchesController.prototype.instanceQuickPanel=function(){var a=this;require([this.appStaticPrefix+"/shop/branch.min.js"],function(){new BranchController({quickPanel:a.quickPanel,parentClass:a})})},BranchesController.prototype.bind=function(){var a=this;$(".data-panel .assistant .tools .add").click(function(){$(a.quickPanel).attr("action",a.apiUrl.shop.branches.add),a.swapPanel(this)}),$(".data-panel table tbody tr").each(function(){var b=$(this).attr("data-id");$(this).find(".edit").click(function(){$(a.quickPanel).attr("action",a.apiUrl.shop.branches.edit),a.swapPanel(this)}),$(this).find(".set-head").click(function(){var c=$(this).attr("data-istjt");c=void 0!=c&&"true"===c?!0:!1,a.setHead(b,c)}),$(this).find(".remove").click(function(){a.remove(b)})}),$(".data-panel .assistant .tools .remove").click(function(){a.remove($(".data-panel table input[name='methodize-table-checked-set']").val())})},BranchesController.prototype.swapPanel=function(a){var b=this;$(this.quickPanel).empty(),$(this.quickPanel).load($(a).attr("data-href"),function(){b.instanceQuickPanel(),$(this).slideDown(200),$(window).scrollTop(20)})},BranchesController.prototype.remove=function(a){var b=this;return a?void this.confirm({content:"您确定要删除选中的门店吗？",confirmInterface:function(){b.request(b.apiUrl.shop.branches["delete"],{id:a},{process:function(){b.tips("删除门店成功！",2,function(){window.location.reload()})}})}}):(b.tips("请先选择门店！",2),!1)},BranchesController.prototype.setHead=function(a,b){var c=this,d=b?this.apiUrl.shop.branches.setTjtHead:this.apiUrl.shop.branches.setHead;this.request(d,{id:a},{process:function(){c.tips("设为总店成功！",2,function(){window.location.reload()})}})},$(document).ready(function(){new BranchesController});