function ContractsController(){this.quickPanel=$(".data-panel .quick-panel"),Controller.call(this),this.bind(),this.backCompanyList()}ContractsController.prototype.instanceQuickPanel=function(){var t=this;require([this.appStaticPrefix+"/shop/contract.min.js"],function(){new ContractController({quickPanel:t.quickPanel,parentClass:t})})},ContractsController.prototype.bind=function(){var t=this;$(".data-panel .assistant .tools .add").click(function(){$(t.quickPanel).attr("action",t.apiUrl.shop.contracts.add),t.swapPanel(this)}),$(".data-panel table tbody tr").each(function(){$(this).attr("data-id");$(this).find(".edit").click(function(){$(t.quickPanel).attr("action",t.apiUrl.shop.contracts.edit),t.swapPanel(this)})}),$(".data-panel table tbody tr").each(function(){var n=$(this).attr("data-id");$(this).find(".remove").click(function(){t.cancel(n)})})},ContractsController.prototype.cancel=function(t){var n=this;this.confirm({content:"您确定要作废合同吗？",confirmInterface:function(){n.request(n.apiUrl.shop.contracts.cancel,{id:t},{process:function(){n.tips("合同作废成功！",2,function(){window.location.reload()})}})}})},ContractsController.prototype.swapPanel=function(t){var n=this;$(this.quickPanel).empty(),$(this.quickPanel).load($(t).attr("data-href"),function(){n.instanceQuickPanel(),$(this).slideDown(200)})},$(document).ready(function(){new ContractsController});