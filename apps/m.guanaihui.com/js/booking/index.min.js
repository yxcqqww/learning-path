function IndexController(){Controller.call(this),this.toggleHeader(),this.dateSelected(),this.storeSelected(),this.reserveNumListener()}IndexController.prototype.toggleHeader=function(){require([this.utilStaticPrefix+"/url/url.min.js"],function(){var t=$.url("?");t&&"header"in t&&("true"===t.header?$("header").show():$("header").hide())})},IndexController.prototype.dateSelected=function(){require([this.appStaticPrefix+"/booking/select-date.min.js",this.utilStaticPrefix+"/url/url.min.js"],function(){$("[name='myDate']").each(function(t,e){$(e).dateShow()});var t=$.url("?"),e="",n="",r=1;t&&"myDate"in t&&t.myDate&&(n=t.myDate,e=t.myDate.substr(0,7),r=$("tbody[month='"+e+"']").index(),$("td").removeClass("on").find("span").removeClass("active"),$("td[data-date='"+n+"']").addClass("on").find("span").addClass("active"),2==r&&$(".date-tool .next").click()),t&&"storeId"in t&&t.storeId&&$("#storeId").val(t.storeId),$("#myDate").val($("td.on").attr("data-date"))})},IndexController.prototype.storeSelected=function(){$(".select-store").click(function(){var t=($(this),$("td.on").attr("data-date"));window.location.href=t?"./choose-store.html?myDate="+t:"./chooseStore.html"})},IndexController.prototype.reserveNumListener=function(){var t=this;$(".number .reduce").click(function(){var t=$(this),e=t.siblings("input"),n=parseInt(t.siblings("input").val());n>1?e.val(n-1):""}),$(".number .add").click(function(){var t=$(this),e=t.siblings("input"),n=parseInt(t.siblings("input").val());9999>n?e.val(n+1):""}),$(".number input").blur(function(){var e=$(this),n=e.val();(isNaN(n)||parseInt(n)>9999)&&(t.tips("修改数量失败,请重试！",3),e.val(n))})},$(document).ready(function(){new IndexController});