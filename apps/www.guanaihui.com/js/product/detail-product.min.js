function DetailController(){Controller.call(this),this.servicesCategory(),this.showMore(),this.showProduct(),this.showReserveModual(),this.floater()}DetailController.prototype.showMore=function(){0!=$("#showmorestores").size()&&$("#showmorestores").click(function(){var o=$(this);o.html(o.find("i").hasClass("icon-xiangxia2")?"收起<i class='iconfont icon-xiangshang3'></i>":"更多机构门店 <i class='iconfont icon-xiangxia2'></i>"),o.find("i").hasClass("icon-xiangxia2")?o.siblings(".more-item").slideUp():o.siblings(".more-item").slideDown(),1==o.find("i").hasClass("icon-xiangxia2")&&$("html,body").scrollTop($("div.stores").offset().top-160)}),0!=$("#showmoreitems").size()&&$("#showmoreitems").click(function(){var o=$(this);o.html(o.find("i").hasClass("icon-xiangxia2")?"收起<i class='iconfont icon-xiangshang3'></i>":"更多套餐项目 <i class='iconfont icon-xiangxia2'></i>"),o.find("i").hasClass("icon-xiangxia2")?o.siblings(".more-item").slideUp("slow"):o.siblings(".more-item").slideDown(),1==o.find("i").hasClass("icon-xiangxia2")&&$("html,body").scrollTop($("#itemtitle").offset().top-130),filteritemdata()})},DetailController.prototype.showProduct=function(){$(window).scroll(function(){$_windowScroll=$(window).scrollTop(),$_windowScroll>=540?$(".product-fixed").show():$(".product-fixed").hide()})},DetailController.prototype.showReserveModual=function(){var o=this;require([o.utilStaticPrefix+"/Datejs/build/date.min.js",o.staticDomain+"/apps/www.guanaihui.com/jssrc/components/reserve.js",o.appStaticPrefix+"/account/login.min.js",o.appStaticPrefix+"/account/register.min.js"],function(){$(".btn-reserve").click(function(){var e=($(this),{}),i={process:function(e){0===parseInt(e.result)?o.popUpAccoountModule():o.popUpReserveModule()},onExceptionInterface:function(){}};o.request(o.checkLoginApiUrl,e,i)})})},DetailController.prototype.popUpReserveModule=function(){var o=this;o.dialog({tabindex:1,id:"module-reserve",effect:!1,url:$(".btn-reserve").attr("data-reserve")}),$("#module-reserve").on("loaded.bs.modal",function(){new Reserve(o)})},DetailController.prototype.popUpAccoountModule=function(){var o=this;o.dialog({tabindex:2,id:"module-account",effect:!1,url:$(".btn-reserve").attr("data-account")}),$("#module-account").on("loaded.bs.modal",function(){o.swapTabs(),new LoginController({successCallback:o.accountCallback,successHandler:o}),new RegisterController({successCallback:o.accountCallback,successHandler:o})})},DetailController.prototype.accountCallback=function(o,e){var i=e,t=0===o.name.length?o.mobile:o.name;$(".toper .pull-right a").remove(),$(".toper .pull-right").append("<a href='/user'>"+t+"</a><a href='/logout'>退出</a><a href='/user'>会员中心</a>"),$("#module-account").modal("hide"),i.popUpReserveModule()},$(document).ready(function(){new DetailController});