/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
 1. 项目名称：www.guanaihui.com
 2. 页面名称：login.js(登录)
 3. 作者：俞晓晨(yuxiaochen@guanaihui.com)
 4. 备注：
 -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/

function AboutUsController() {

	Controller.call(this);

	/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
     页面顶部全部服务分类下拉
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
	this.servicesCategory();

	/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
	点击分类名称，显示对应分类
	-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
	this.showContent();
	/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
	top 栏
	-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
	this.ajaxSet();
}


/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
点击分类名称，显示对应分类
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
AboutUsController.prototype.showContent = function() {
	var $container = $(".aboutUs .main");
	$(".aboutUs .category").find("li a").on('click', function() {
		var _this = $(this);
		//add ga 
		ga('send', 'event', 'AboutUs', 'AboutUs', _this.html());
		_this.parent().addClass("on").siblings().removeClass("on");

		if (_this.attr('data-href') != undefined && _this.attr('data-href') != "") {
			$container.html('');
			$container.load(_this.attr('data-href'), function() {

			});
		};
	});
}

/*top栏获取一些东西*/
AboutUsController.prototype.ajaxSet=function(){
    $.ajaxSetup ({ 
        cache: false 
    });
    $(".topper-service").load('/personal/toper/count', function(data){
    });
}

/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
类的初始化
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
$(document).ready(function() {
	new AboutUsController;
});